import{_ as f,x as t,C as n,E as d,G as _,H as g,I as h,J as m,K as v,L as k,M as y,N as C,D as P,u as w,O as S}from"./entry-025e378f.mjs";import{q as $}from"./query-510ca121.mjs";import{r as x,u as O}from"./asyncData-f38981b2.mjs";import"./json-8fff1e89.mjs";import"./utils-d61eb5de.mjs";const j={name:"chord",props:{chord:{type:Object,default:{}},isPopupChord:{type:Boolean,default:!1}},setup(a,{expose:o}){o();const e={props:a};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},N={class:"inner"},B={class:"chord-name"},D={class:"plat-number"},I={key:0,class:"circle"};function V(a,o,s,e,p,l){return e.props.isPopupChord?(t(),n("div",{key:0,class:"popup-chord",onClick:o[0]||(o[0]=k(r=>a.$emit("update:isPopupChord",!1),["self"]))},[d("div",N,[d("h1",B,_(e.props.chord.name),1),d("div",{class:g(["chord-score",`start-${e.props.chord.start}`])},[(t(!0),n(h,null,m(e.props.chord.position,(r,c)=>(t(),n("div",{class:"plat",key:c},[d("div",D,_(e.props.chord.start+c),1),(t(!0),n(h,null,m(r,(i,u)=>(t(),n("div",{class:"line",key:u},[i==1?(t(),n("div",I)):v("",!0)]))),128))]))),128))],2)])])):v("",!0)}var q=f(j,[["render",V],["__scopeId","data-v-7dc41cd5"]]);const z={name:"chord",props:{music:{type:Object,default:{}}},setup(a,{expose:o}){o();const s=a,e=y("chord",()=>null),p=y("isPopupChord",()=>!1),r={props:s,chord:e,isPopupChord:p,openPopupChord:async c=>{const i=await $("/chord").where({name:c}).findOne();console.log(i),e.value=i,p.value=!0}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},A={class:"chord"},E=["onClick"],L={class:"lyrics"};function M(a,o,s,e,p,l){const r=q;return t(),n("div",{class:"score-chord",style:C(`grid-template-columns: repeat(${s.music.measure}, 1fr);`)},[(t(!0),n(h,null,m(s.music.score,(c,i)=>(t(),n("div",{class:"section",key:i},[d("div",A,[(t(!0),n(h,null,m(c.chord,(u,b)=>(t(),n("button",{type:"button",class:"chord-item",key:b,style:C(`--grow: ${u.grow?u.grow:1}`),onClick:K=>e.openPopupChord(u.name)},_(u.name),13,E))),128))]),d("div",L,_(c.lyrics),1)]))),128)),P(r,{isPopupChord:e.isPopupChord,"onUpdate:isPopupChord":o[0]||(o[0]=c=>e.isPopupChord=c),chord:e.chord},null,8,["isPopupChord","chord"])],4)}var F=f(z,[["render",M],["__scopeId","data-v-2a284ef6"]]);const G={name:"[...slug]",async setup(a,{expose:o}){o();let s,e;const{path:p}=w(),{data:l}=([s,e]=S(()=>O("music",()=>$("/music").where({_path:p}).findOne())),s=await s,e(),s);x("music");const r={path:p,music:l};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},H={class:"page-music-detail"};function J(a,o,s,e,p,l){const r=F;return t(),n("div",H,[d("h1",null,_(e.music.singer)+" - "+_(e.music.title),1),P(r,{music:e.music},null,8,["music"])])}var X=f(G,[["render",J],["__scopeId","data-v-332f1b70"]]);export{X as default};
